<div id="noteDetail">
  <button nzType="primary" id="shareButton" nz-button (click)="captureAndSaveImage()">åˆ†äº«</button>
  <button nzType="primary" id="BackButton" nz-button (click)="backToView()">è¿”å›</button>
  <button nzType="primary" *ngIf="!ifAlreadyStart" [disabled]="ifAlreadyStart" id="StarButton" nz-button
          (click)="starNote()">æ”¶è—
  </button>
  <button nzType="dashed" *ngIf="ifAlreadyStart" [disabled]="!ifAlreadyStart" id="unStarButton" nz-button
          (click)="unSubscribeNote()">
    <div id="unStarButtonFont">å–æ¶ˆæ”¶è—</div>
  </button>
  <button *ngIf="canEdit" nzType="primary" id="EditButton" nz-button (click)="updateNote()">ä¿®æ”¹</button>
  <button *ngIf="canEdit" nzType="primary" id="DeleteButton" nzDanger nz-button nz-popconfirm
          nzPopconfirmTitle="ä½ ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç¬”è®°å—?"
          (nzOnConfirm)="deleteNote()"
          nzPopconfirmPlacement="bottom">åˆ é™¤
  </button>
  <div id="noteContent">
    <div style="background-color: white">
      <div id="noteInfo"><h3>æ ‡é¢˜:&nbsp;{{ noteTitle }}ğŸ‘‰{{ userName }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3></div>
    </div>
    <editor style="z-index: 0" id="003"
            [init]="editorConfig"
            [initialValue]="noteContent"
            [disabled]="true"
    ></editor>
  </div>
  <button nzType="primary" nz-button id="postReply" (click)="open(ReplyModal,'')">æ·»åŠ å›å¤</button>
  <ng-template #commentTemplateRef let-comment="comment">
    <nz-comment [nzAuthor]="comment.author">
      <nz-avatar nz-comment-avatar nzIcon="user" [nzSrc]="comment.avatar"></nz-avatar>
      <nz-comment-content>
        <p>{{ comment.content }}</p>
      </nz-comment-content>
      <button nz-button class="comment-action-button" id="replyButton" (click)="open(ReplyModal,comment.replyId)">Reply
        to
      </button>
      <ng-container *ngIf="comment.children && comment.children.length">
        <ng-template ngFor let-child [ngForOf]="comment.children">
          <ng-template
            [ngTemplateOutlet]="commentTemplateRef"
            [ngTemplateOutletContext]="{ comment: child }"
          ></ng-template>
        </ng-template>
      </ng-container>
    </nz-comment>
  </ng-template>
  <ng-container *ngFor="let comment of data">
    <ng-template [ngTemplateOutlet]="commentTemplateRef" [ngTemplateOutletContext]="{ comment: comment }"></ng-template>
  </ng-container>
</div>
<ng-template #ReplyModal let-modal>

  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">è¯„è®º</h4>
    <button nz-button nzDanger class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <nz-comment>
      <nz-avatar nz-comment-avatar nzIcon="user"></nz-avatar>
      <nz-comment-content>
        <nz-form-item>
          <textarea [(ngModel)]="replyInputValue" nz-input rows="4"></textarea>
        </nz-form-item>
      </nz-comment-content>
    </nz-comment>
  </div>
  <div class="modal-footer">
    <button nz-button nzType="primary" [nzLoading]="submitting" [disabled]="!replyInputValue" (click)="submitReply()"
            (click)="modal.dismiss('Cross click')">
      è¯„è®º
    </button>
  </div>
</ng-template>
